# –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ unit/                    # Unit —Ç–µ—Å—Ç—ã –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º
‚îÇ   ‚îú‚îÄ‚îÄ artists/            # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è artists
‚îÇ   ‚îú‚îÄ‚îÄ companies/          # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è companies
‚îÇ   ‚îú‚îÄ‚îÄ projects/           # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è projects
‚îÇ   ‚îú‚îÄ‚îÄ people/             # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è people
‚îÇ   ‚îú‚îÄ‚îÄ users/              # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è users
‚îÇ   ‚îú‚îÄ‚îÄ telegram_requests/  # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è telegram_requests
‚îÇ   ‚îî‚îÄ‚îÄ llm/                # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è llm
‚îú‚îÄ‚îÄ integration/            # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ e2e/                    # End-to-end —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ fixtures/               # –û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ conftest.py            # –û–±—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

> üí° **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

### –í—Å–µ —Ç–µ—Å—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
./scripts/test/test_all.sh
```

### –í—Ä—É—á–Ω—É—é –∏–∑ backend –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```bash
python -m pytest tests/ -v
```

### Unit —Ç–µ—Å—Ç—ã
```bash
# –í—Å–µ unit —Ç–µ—Å—Ç—ã
python -m pytest tests/unit/ -v

# –¢–µ—Å—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
python -m pytest tests/unit/companies/ -v

# –¢–µ—Å—Ç—ã —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏
python -m pytest tests/unit/ -m models -v
python -m pytest tests/unit/ -m services -v
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```bash
python -m pytest tests/integration/ -v
```

### –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```bash
python -m pytest tests/ --cov=. --cov-report=html
```

## –ú–∞—Ä–∫–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

- `unit` - Unit —Ç–µ—Å—Ç—ã
- `integration` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `e2e` - End-to-end —Ç–µ—Å—Ç—ã
- `api` - API —Ç–µ—Å—Ç—ã
- `models` - –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π
- `views` - –¢–µ—Å—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
- `services` - –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- `slow` - –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `security` - –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

1. **Unit —Ç–µ—Å—Ç—ã** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ `tests/unit/{app_name}/`
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ `tests/integration/`
3. **E2E —Ç–µ—Å—Ç—ã** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ `tests/e2e/`

## –§–∏–∫—Å—Ç—É—Ä—ã

–û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `conftest.py`:
- `api_client` - API –∫–ª–∏–µ–Ω—Ç
- `authenticated_api_client` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç
- `user` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `admin_user` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- `pytest.ini` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
- `conftest.py` - –æ–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
